#!/usr/bin/python3
import os
import subprocess

HOSTNAME = os.uname().nodename
HOME = os.environ["HOME"]

if (
    HOSTNAME.startswith("o-")
    or HOSTNAME.startswith("O-")
    or HOSTNAME.startswith("violet-gopher")
):
    filename = "work"
else:
    filename = "home"

prog = subprocess.run(
    f"cat {HOME}/ghq/github.com/74th/mycheatsheets/CmdBookmark/{filename} | peco",
    shell=True,
    capture_output=True,
    text=True,
).stdout.strip()
if len(prog) > 0:
    if prog[0] == "[":
        name = prog[prog.find("]") + 1 :]
    subprocess.run(prog, shell=True)
